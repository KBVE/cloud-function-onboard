name: Create Profile

on:
    push:
        branches: ["main"]
    workflow_dispatch:

permissions:
    actions: write
    contents: write
    pages: write
    id-token: write

concurrency:
    group: "pages"
    cancel-in-progress: true

jobs:
    build:
        runs-on: ubuntu-latest
        steps:
            -   name: Checkout the code
                uses: actions/checkout@v2
            -   name: Deploy my function to Appwrite
                uses: KBVE/Appwrite-Deploy@master
                with:
                    endpoint: 'https://ap.kbve.com/v1'
                    project: '6436a6dc9a6b48db802f'
                    key: ${{ secrets.APPWRITE_API_KEY }}
                    single: false
